<template name="layout">
  <ul id="more-drop" class="dropdown-content">
    <li><a href="#faq-modal" class="modal-trigger">FAQ</a></li>
    <li><a href="#changelog-modal" class="modal-trigger">Changelog</a></li>
    <li><a href="#about-modal" class="modal-trigger">About</a></li>
  </ul>

  <nav style="-webkit-app-region: drag">
    <div class="nav-wrapper">
      <a href="#" class="brand-logo center">Dashboard v{{currentVersion}}</a>
      {{#if isConnected}}
      <ul id="nav-mobile" class="left" style="-webkit-app-region: no-drag">
        <li><a href="/">Main</a></li>
        <li><a href="/commands">Commands</a></li>
        <li><a href="/timers">Timers</a></li>
      </ul>
      {{/if}}
      <ul class="right" style="-webkit-app-region: no-drag">
        <li><a href="#!" id="more-button" class="dropdown-button" data-activates="more-drop"><i class="material-icons">more_vert</i></a></li>
        {{#if showWindowControls}}
        <li><a href="#" id="minimize-button"><i class="material-icons">remove</i></a></li>
        <li><a href="#" id="maximize-button"><i class="material-icons">fullscreen</i></a></li>
        <li><a href="#" id="exit-button"><i class="material-icons">close</i></a></li>
        {{/if}}
      </ul>
    </div>
  </nav>
  <div class="content">
    {{> yield}}
  </div>

  <!-- Modals -->
  <div id="about-modal" class="modal modal-fixed-footer">
    <div class="modal-content">
      <h4>Song_Bot v{{currentVersion}}</h4>
      <p>Created by Trenton Pottruff</p>
      <p>This project is <a href="https://github.com/jayitinc/song-bot">open-source</a>.</p>
      <p><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons Licence" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</p>
    </div>
    <div class="modal-footer">
      <a href="#" class="modal-action modal-close waves-effect waves-green btn-flat">Done</a>
    </div>
  </div>
  <div id="changelog-modal" class="modal modal-fixed-footer">
    <div class="modal-content">
      <h4>Changelog</h4>
      <ul class="collapsible" data-collapsible="expandable">
      {{#each updates}}
        <li>
          <div class="collapsible-header {{#if isFirst @index}}active{{/if}}"><i class="material-icons">{{icon}}</i>v{{version}}</div>
          <div class="collapsible-body">
            {{#if doesNewExist}}
            <div class="chip green changelog-tag">New Features</div>
            <ul class="collection">
              {{#each new}}
              <li class="collection-item">{{info}}</li>
              {{/each}}
            </ul>
            {{/if}}
            {{#if doesFixedExist}}
            <div class="chip orange changelog-tag">Bug Fixes</div>
            <ul class="collection">
              {{#each fixed}}
              <li class="collection-item">{{info}}</li>
              {{/each}}
            </ul>
            {{/if}}
            {{#if doesRemovedExist}}
            <div class="chip red changelog-tag">Removed</div>
            <ul class="collection">
              {{#each removed}}
              <li class="collection-item">{{info}}</li>
              {{/each}}
            </ul>
            {{/if}}
          </div>
        </li>
      {{/each}}
      </ul>
    </div>
    <div class="modal-footer">
      <a href="#" class="modal-action modal-close waves-effect waves-green btn-flat">Done</a>
    </div>
  </div>
  <div id="faq-modal" class="modal modal-fixed-footer">
    <div class="modal-content">
      <h4>FAQ</h4>
      <ul class="collapsible" data-collapsible="expandable">
      {{#each questions}}
        <li>
          <div class="collapsible-header {{#if isFirst @index}}active{{/if}}">Q: {{question}}</div>
          <div class="collapsible-body">
            <p>A: {{answer}}</p>
          </div>
        </li>
      {{/each}}
      </ul>
    </div>
    <div class="modal-footer">
      <a href="#" class="modal-action modal-close waves-effect waves-green btn-flat">Done</a>
    </div>
  </div>
  <div id="desktop-modal" class="modal">
    <div class="modal-content">
      <p>Have you ever considered using the desktop app?</p>
    </div>
  </div>
</template>
